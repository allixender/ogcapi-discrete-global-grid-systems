# $schema: https://json-schema.org/draft/2019-09/schema
description: Discrete Global Grid System Reference System (DGGRS) Definition.
type: object
required:
- dggs
- zirs
- subZoneOrder
properties:
   title:
      type: string
   description:
      type: string
   uri:
      type: string
      format: uri
      description: The authoritative URI associated with this DGGRS definition
   dggs:
      type: object
      description: The hierarchical series of Discrete Global Grid upon which this DGGRS is based, including any parameters.
      properties:
         definition:
            description: The base definition of the hierarchical series of Discrete Global Grid, which may be parameterized.
            type: object
            required:
            - spatialDimensions
            - temporalDimensions
            properties:
               crs:
                  allOf:
                  - description: The native Coordinate Reference System (CRS) in which the geometry of the zones for this DGGS is defined.
                  - anyOf:
                     - type: string
                       format: uri
                       example: EPSG:7789
                     - $ref: '../../../openapi/schemas/common-geodata/crs.yaml'
               basePolyhedron:
                  type: string
                  description: The Type/Class of Polyhedron used to construct the Discrete Global Grid System - if it is constructued using a Base Polyhedron.
                  example: icosahedron
               refinementRatio:
                  description: The ratio of the area of zones between two consecutive hierarchy level (the ratio of child zones to parent zones, also called the aperture).
                  example: 9
                  type: integer
               constraints:
                  type: object
                  properties:
                     cellAxisAligned:
                        description: Set to true if all edges of the geometry of all zones are aligned with one of the axis of the `crs`.
                        type: boolean
                        default: false
                     cellConformal:
                        type: boolean
                        default: false
                     cellEquiAngular:
                        type: boolean
                        default: false
                     cellEquiDistant:
                        type: boolean
                        default: false
                     cellEqualSized:
                        description: Set to true if the area of all zones is the same for a particular zone geometry type of any specifc discrete global grid of the DGGS hierarchy.
                        type: boolean
                        default: false
               spatialDimensions:
                  description: Number of Spatial Dimensions defined by the Discrete Global Grid System.
                  example: 2
                  type: integer
               temporalDimensions:
                  description: Number of Temporal Dimensions defined by the Discrete Global Grid System.
                  example: 0
                  type: integer
               zoneTypes:
                  type: array
                  items:
                     type: string
                     enum:
                     - triangle
                     - square
                     - hexagon
                     - pentagon
                     - rhombus
                  example: [ hexagon, pentagon ]
               refinementStrategy:
                  description: The refinement strategy used by the Discrete Global Grid System
                  type: array
                  items:
                     type: string
                     enum:
                     - centredChildCell
                     - nestedChildCell
                     - nodeCentredChildCell
                     - edgeCentredChildCell
                     - faceCentredChildCell
                     - solidCentredChildCell
                  example: [ nestedChildCell, nodeCentredChildCell ]
         parameters:
            description: The optional parameters establishing a very specific Discrete Global Grid System, where each zone has a well-defined geometry.
            type: object
            properties:
               ellipsoid:
                  type: string
                  format: uri
                  description: Globe Reference System Identifier/Specification
                  example: [EPGS:7019]
               orientation:
                  type: object
                  properties:
                     latitude:
                        description: Reference Latitude in decimal degrees to fix the orientation of the polyhedron.
                        example: 0.0
                        type: number
                     longitude:
                        description: Reference Longitude in decimal degrees to fix the orientation of the polyhedron.
                        example: 0.0
                        type: number
                     description:
                        type: string
                  required:
                  - longitude
                  - latitude
   zirs:
      description: The Zone Identifier Reference System used for this Discrete Global Grid System Reference System.
      type: object
      required:
      - textZIRS
      properties:
         textZIRS:
            description: textual zone identifier indexing scheme
            type: object
            required:
            - description
            properties:
               description:
                  type: string
                  example: >
                    Topological Morton Code (Space Filling Curve) Identifier.
                    With a Level 0 alphabetical identifier from 'A' to 'S' followed
                    by a numeric reference from 1 to 9 for all subsequent levels representing
                    the arrangement of child zones following a Morton (Z-code) subdivision
                    of the parent zone. The length of the identifier represents the
                    level of refinement.
               type:
                  anyOf:
                  - type: string
                  - type: string
                    enum:
                    - hierarchicalConcatenation
                    - ogc2DTMSHexLevelRowCol
                    - levelRootFaceHexRowMajorSubZone
         uint64ZIRS:
            description: 64-bit unsigned integer zone indexing scheme
            type: object
            required:
            - description
            properties:
               description:
                  type: string
                  example: >
                    A 64-bit integer with the 30 least significant bits corresponds to
                    a column, the next 29 bits corresponding to a row, and the 5 most
                    significant bits correspond to a level of an OGC 2D Tile Matrix Set
                    identifier, with individual components using little endian.
               type:
                  anyOf:
                  - type: string
                  - type: string
                    enum:
                    - ogc2DTMSHexLevelRowCol
   subZoneOrder:
      description: The ordering used for this Discrete Global Grid System Reference System when encoding the values associated with sub-zones at any given depth relative to a parent zone.
      type: object
      required:
      - description
      properties:
         description:
            type: string
            example: >
              The zones are ordered in tightly packed scanlines.
              Considering the ISEA planar projection, for odd level parent, zones are ordered left to right along a scanline and scanlines are ordered from top to bottom.
              For an even level parent, zones are ordered top bottom right along a scanline and scanlines are ordered from left to right.
              For an odd depth, scanlines start along a hexagon edge, whereas for even depths, scanlines start on a hexagon vertex.
         type:
            anyOf:
            - type: string
            - type: string
              enum:
              - scanline
              - spiralFromCenter
              - mortonCurve
              - hilbertCurve
